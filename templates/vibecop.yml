# vibeCop Configuration
#
# Optional configuration file to customize vibeCop behavior.
# Place this file at your repository root as `vibecop.yml`
#
# All fields are optional - sensible defaults are used if omitted.
# Delete any sections you don't need to customize.

version: 1

# ═══════════════════════════════════════════════════════════════════
# TOOL SETTINGS
# ═══════════════════════════════════════════════════════════════════
# enabled: auto | true | false | daily | weekly | monthly
#   - auto: Run if relevant config exists in repo
#   - true/false: Always/never run
#   - daily/weekly/monthly: Run only at that cadence or deeper
tools:
  # TypeScript compiler - catches type errors
  tsc:
    enabled: auto

  # jscpd - finds copy-paste code
  jscpd:
    enabled: weekly
    min_tokens: 70 # Minimum tokens to consider duplicate

  # dependency-cruiser - finds circular dependencies
  dependency_cruiser:
    enabled: weekly
    # config_path: '.dependency-cruiser.js'

  # knip - finds unused exports and dependencies
  knip:
    enabled: weekly
    # config_path: 'knip.json'

  # Semgrep - security vulnerability scanning
  semgrep:
    enabled: weekly
    config: "p/default" # Use Semgrep's default ruleset

# ═══════════════════════════════════════════════════════════════════
# ISSUE SETTINGS
# ═══════════════════════════════════════════════════════════════════
issues:
  enabled: true
  label: vibeCop
  max_new_per_run: 25 # Cap new issues per run to avoid flooding

  # Filtering thresholds (findings below these are skipped)
  # Note: High severity findings always create issues regardless of confidence
  severity_threshold: info # critical | high | medium | low | info
  confidence_threshold: low # high | medium | low

  # Merge strategy - how to group findings into issues
  # same-rule is recommended to reduce issue noise
  merge_strategy: same-rule # none | same-file | same-rule | same-tool

  # Auto-close issues when finding disappears (experimental)
  close_resolved: false

  # Default assignees for new issues (GitHub usernames)
  # assignees:
  #   - your-username

# ═══════════════════════════════════════════════════════════════════
# OUTPUT SETTINGS
# ═══════════════════════════════════════════════════════════════════
output:
  sarif: true # Upload to GitHub Code Scanning
  llm_json: true # Generate AI agent-friendly JSON
  artifact_retention_days: 14

# ═══════════════════════════════════════════════════════════════════
# AI AGENT HINTS
# ═══════════════════════════════════════════════════════════════════
llm:
  agent_hint: codex # AI agent to mention in issues
  pr_branch_prefix: "vibecop/"
